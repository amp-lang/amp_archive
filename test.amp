import "C/Stdio";
import "Std/Alloc";

export func Main() {
    var fp: ~mut C.File;
    var buf = Std.Alloc(255);

    fp = C.Fopen("test.txt", "r");
    C.Fgets(buf as ~mut u8, 255, fp);
    C.Printf(buf as ~const u8);

    C.Fclose(fp);
    Std.Free(buf);
}